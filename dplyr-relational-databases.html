<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 18 Dplyr Relational Databases | Community contributions for EDAV Fall 2019</title>
  <meta name="description" content="This book will hold all community contributions for STAT GR 5702 Fall 2019 at Columbia University" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 18 Dplyr Relational Databases | Community contributions for EDAV Fall 2019" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book will hold all community contributions for STAT GR 5702 Fall 2019 at Columbia University" />
  <meta name="github-repo" content="jtr13/cc19" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 18 Dplyr Relational Databases | Community contributions for EDAV Fall 2019" />
  
  <meta name="twitter:description" content="This book will hold all community contributions for STAT GR 5702 Fall 2019 at Columbia University" />
  



<meta name="date" content="2019-11-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rstudio-vs-jupyterlab-for-data-science.html"/>
<link rel="next" href="the-first-step-to-analyse-a-dataset.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.2/wordcloud2.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html"><b>CC for EDAV 2019</b></a></li>

<li class="divider"></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Instructions</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#background"><i class="fa fa-check"></i><b>1.1</b> Background</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#preparing-your-.rmd-file"><i class="fa fa-check"></i><b>1.2</b> Preparing your <code>.Rmd</code> file</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#submission-steps"><i class="fa fa-check"></i><b>1.3</b> Submission Steps</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#optional-tweaks"><i class="fa fa-check"></i><b>1.4</b> Optional tweaks</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#faq"><i class="fa fa-check"></i><b>1.5</b> FAQ</a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#what-should-i-expect-after-creating-a-pull-request"><i class="fa fa-check"></i><b>1.5.1</b> What should I expect after creating a pull request?</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#what-if-i-catch-mistakes-after-my-pull-request-is-merged"><i class="fa fa-check"></i><b>1.5.2</b> What if I catch mistakes after my pull request is merged?</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#other-questions"><i class="fa fa-check"></i><b>1.5.3</b> Other questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="sample-project.html"><a href="sample-project.html"><i class="fa fa-check"></i><b>2</b> Sample project</a></li>
<li class="part"><span><b>II Spatial Analysis</b></span></li>
<li class="chapter" data-level="3" data-path="stamen-maps-with-ggmap.html"><a href="stamen-maps-with-ggmap.html"><i class="fa fa-check"></i><b>3</b> Stamen maps with ggmap</a><ul>
<li class="chapter" data-level="3.1" data-path="stamen-maps-with-ggmap.html"><a href="stamen-maps-with-ggmap.html#mutilayerd-plots-with-ggmaps"><i class="fa fa-check"></i><b>3.1</b> Mutilayerd plots with ggmaps</a></li>
<li class="chapter" data-level="3.2" data-path="stamen-maps-with-ggmap.html"><a href="stamen-maps-with-ggmap.html#getting-deeper"><i class="fa fa-check"></i><b>3.2</b> Getting Deeper</a></li>
</ul></li>
<li class="part"><span><b>III Static Graphs</b></span></li>
<li class="chapter" data-level="4" data-path="ridgeline-plots.html"><a href="ridgeline-plots.html"><i class="fa fa-check"></i><b>4</b> Ridgeline plots</a><ul>
<li class="chapter" data-level="4.1" data-path="ridgeline-plots.html"><a href="ridgeline-plots.html#overview"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="ridgeline-plots.html"><a href="ridgeline-plots.html#tldr"><i class="fa fa-check"></i><b>4.2</b> tl;dr</a></li>
<li class="chapter" data-level="4.3" data-path="ridgeline-plots.html"><a href="ridgeline-plots.html#simple-examples"><i class="fa fa-check"></i><b>4.3</b> Simple examples</a></li>
<li class="chapter" data-level="4.4" data-path="ridgeline-plots.html"><a href="ridgeline-plots.html#theory"><i class="fa fa-check"></i><b>4.4</b> Theory</a></li>
<li class="chapter" data-level="4.5" data-path="ridgeline-plots.html"><a href="ridgeline-plots.html#external-resources"><i class="fa fa-check"></i><b>4.5</b> External resources</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="gantt-charts.html"><a href="gantt-charts.html"><i class="fa fa-check"></i><b>5</b> Gantt charts</a><ul>
<li class="chapter" data-level="5.1" data-path="gantt-charts.html"><a href="gantt-charts.html#using-geom_line"><i class="fa fa-check"></i><b>5.1</b> Using geom_line</a></li>
<li class="chapter" data-level="5.2" data-path="gantt-charts.html"><a href="gantt-charts.html#using-the-package-plan"><i class="fa fa-check"></i><b>5.2</b> Using the package ‘plan’</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="likert.html"><a href="likert.html"><i class="fa fa-check"></i><b>6</b> Likert</a><ul>
<li class="chapter" data-level="6.1" data-path="likert.html"><a href="likert.html#overview-1"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="likert.html"><a href="likert.html#tldr-1"><i class="fa fa-check"></i><b>6.2</b> tl;dr</a></li>
<li class="chapter" data-level="6.3" data-path="likert.html"><a href="likert.html#simple-examples-1"><i class="fa fa-check"></i><b>6.3</b> Simple examples</a><ul>
<li class="chapter" data-level="6.3.1" data-path="likert.html"><a href="likert.html#stacked-bar-chart"><i class="fa fa-check"></i><b>6.3.1</b> Stacked bar chart</a></li>
<li class="chapter" data-level="6.3.2" data-path="likert.html"><a href="likert.html#diverging-stacked-bar-chart"><i class="fa fa-check"></i><b>6.3.2</b> Diverging stacked bar chart</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="likert.html"><a href="likert.html#stacked-bar-chart-using-ggplot"><i class="fa fa-check"></i><b>6.4</b> Stacked bar chart using ggplot</a></li>
<li class="chapter" data-level="6.5" data-path="likert.html"><a href="likert.html#theory-1"><i class="fa fa-check"></i><b>6.5</b> Theory</a></li>
<li class="chapter" data-level="6.6" data-path="likert.html"><a href="likert.html#when-to-use"><i class="fa fa-check"></i><b>6.6</b> When to use</a></li>
<li class="chapter" data-level="6.7" data-path="likert.html"><a href="likert.html#external-resources-1"><i class="fa fa-check"></i><b>6.7</b> External resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="multi-class-hexbins.html"><a href="multi-class-hexbins.html"><i class="fa fa-check"></i><b>7</b> Multi-class hexbins</a></li>
<li class="chapter" data-level="8" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html"><i class="fa fa-check"></i><b>8</b> Visualization in Time Series Analysis</a><ul>
<li class="chapter" data-level="8.1" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#initiate-a-time-series-object"><i class="fa fa-check"></i><b>8.1</b> Initiate a Time series object:</a></li>
<li class="chapter" data-level="8.2" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#plot-the-data"><i class="fa fa-check"></i><b>8.2</b> Plot the data:</a></li>
<li class="chapter" data-level="8.3" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#transformation-of-nonstationary"><i class="fa fa-check"></i><b>8.3</b> Transformation of nonstationary:</a><ul>
<li class="chapter" data-level="8.3.1" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#stationarity"><i class="fa fa-check"></i><b>8.3.1</b> Stationarity:</a></li>
<li class="chapter" data-level="8.3.2" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#operations"><i class="fa fa-check"></i><b>8.3.2</b> Operations</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#acf-and-pacf-for-time-series"><i class="fa fa-check"></i><b>8.4</b> ACF and PACF for time series</a></li>
<li class="chapter" data-level="8.5" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#full-model-yt-ttrend-sseasonality-ccycle"><i class="fa fa-check"></i><b>8.5</b> Full model: Yt = T(Trend) + S(Seasonality) +C(Cycle)</a><ul>
<li class="chapter" data-level="8.5.1" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#trendt-linear-quadratic-etc.-for-normal-linear-model"><i class="fa fa-check"></i><b>8.5.1</b> Trend(T): Linear, Quadratic, etc. For normal linear model</a></li>
<li class="chapter" data-level="8.5.2" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#seasonalitys"><i class="fa fa-check"></i><b>8.5.2</b> Seasonality(S):</a></li>
<li class="chapter" data-level="8.5.3" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#cyclec"><i class="fa fa-check"></i><b>8.5.3</b> Cycle(C):</a></li>
<li class="chapter" data-level="8.5.4" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#summary"><i class="fa fa-check"></i><b>8.5.4</b> Summary</a></li>
<li class="chapter" data-level="8.5.5" data-path="visualization-in-time-series-analysis.html"><a href="visualization-in-time-series-analysis.html#reference"><i class="fa fa-check"></i><b>8.5.5</b> Reference:</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Interactive Graphs</b></span></li>
<li class="chapter" data-level="9" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>9</b> Shiny</a><ul>
<li class="chapter" data-level="9.1" data-path="shiny.html"><a href="shiny.html#part-1-how-to-build-a-shiny-app"><i class="fa fa-check"></i><b>9.1</b> Part 1 How to Build a Shiny App</a></li>
<li class="chapter" data-level="9.2" data-path="shiny.html"><a href="shiny.html#install-the-shiny-package"><i class="fa fa-check"></i><b>9.2</b> 1. Install the shiny package</a></li>
<li class="chapter" data-level="9.3" data-path="shiny.html"><a href="shiny.html#template-for-creating-a-shiny-app"><i class="fa fa-check"></i><b>9.3</b> 2. Template for creating a shiny app</a></li>
<li class="chapter" data-level="9.4" data-path="shiny.html"><a href="shiny.html#add-elements-to-user-interface-using-fluidpage"><i class="fa fa-check"></i><b>9.4</b> 3. Add elements to user interface using <code>fluidPage()</code></a><ul>
<li class="chapter" data-level="9.4.1" data-path="shiny.html"><a href="shiny.html#input-functions"><i class="fa fa-check"></i><b>9.4.1</b> Input functions</a></li>
<li class="chapter" data-level="9.4.2" data-path="shiny.html"><a href="shiny.html#output-functions"><i class="fa fa-check"></i><b>9.4.2</b> Output functions</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="shiny.html"><a href="shiny.html#build-output-in-server-instructions"><i class="fa fa-check"></i><b>9.5</b> 4. Build output in server instructions</a><ul>
<li class="chapter" data-level="9.5.1" data-path="shiny.html"><a href="shiny.html#save-objects-you-want-to-display-to-output"><i class="fa fa-check"></i><b>9.5.1</b> (1): Save objects you want to display to <code>output$</code></a></li>
<li class="chapter" data-level="9.5.2" data-path="shiny.html"><a href="shiny.html#build-objects-with-render"><i class="fa fa-check"></i><b>9.5.2</b> (2): Build objects with <code>render()</code></a></li>
<li class="chapter" data-level="9.5.3" data-path="shiny.html"><a href="shiny.html#use-input-values-with-input"><i class="fa fa-check"></i><b>9.5.3</b> (3): Use input values with <code>input$</code></a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="shiny.html"><a href="shiny.html#share-your-app"><i class="fa fa-check"></i><b>9.6</b> 5. Share your app</a><ul>
<li class="chapter" data-level="9.6.1" data-path="shiny.html"><a href="shiny.html#save-your-app"><i class="fa fa-check"></i><b>9.6.1</b> Save your app</a></li>
<li class="chapter" data-level="9.6.2" data-path="shiny.html"><a href="shiny.html#publish-your-app-on-shinyapps.io"><i class="fa fa-check"></i><b>9.6.2</b> Publish your app on Shinyapps.io</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="shiny.html"><a href="shiny.html#part-2-how-to-customize-reactions"><i class="fa fa-check"></i><b>9.7</b> Part 2 How to Customize Reactions</a></li>
<li class="chapter" data-level="9.8" data-path="shiny.html"><a href="shiny.html#reactivity"><i class="fa fa-check"></i><b>9.8</b> 1. Reactivity</a><ul>
<li class="chapter" data-level="9.8.1" data-path="shiny.html"><a href="shiny.html#what-is-reactivity"><i class="fa fa-check"></i><b>9.8.1</b> What is reactivity?</a></li>
<li class="chapter" data-level="9.8.2" data-path="shiny.html"><a href="shiny.html#reactive-values"><i class="fa fa-check"></i><b>9.8.2</b> Reactive values</a></li>
<li class="chapter" data-level="9.8.3" data-path="shiny.html"><a href="shiny.html#reactive-functions-reactive-toolkit"><i class="fa fa-check"></i><b>9.8.3</b> Reactive functions (reactive toolkit)</a></li>
<li class="chapter" data-level="9.8.4" data-path="shiny.html"><a href="shiny.html#modularize-code-with-reactive"><i class="fa fa-check"></i><b>9.8.4</b> Modularize code with <code>reactive()</code></a></li>
<li class="chapter" data-level="9.8.5" data-path="shiny.html"><a href="shiny.html#prevent-reactions-with-isolate"><i class="fa fa-check"></i><b>9.8.5</b> Prevent reactions with <code>isolate()</code></a></li>
<li class="chapter" data-level="9.8.6" data-path="shiny.html"><a href="shiny.html#trigger-code-with-observeevent"><i class="fa fa-check"></i><b>9.8.6</b> Trigger code with <code>observeEvent()</code></a></li>
<li class="chapter" data-level="9.8.7" data-path="shiny.html"><a href="shiny.html#delay-reactions-with-eventreactive"><i class="fa fa-check"></i><b>9.8.7</b> Delay reactions with <code>eventReactive()</code></a></li>
<li class="chapter" data-level="9.8.8" data-path="shiny.html"><a href="shiny.html#manage-state-with-reactivevalues"><i class="fa fa-check"></i><b>9.8.8</b> Manage state with <code>reactiveValues()</code></a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="shiny.html"><a href="shiny.html#summary-1"><i class="fa fa-check"></i><b>9.9</b> 3. Summary</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html"><i class="fa fa-check"></i><b>10</b> Ice Cream Survey</a><ul>
<li class="chapter" data-level="10.1" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#overview-2"><i class="fa fa-check"></i><b>10.1</b> Overview</a><ul>
<li class="chapter" data-level="10.1.1" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#description"><i class="fa fa-check"></i><b>10.1.1</b> Description</a></li>
<li class="chapter" data-level="10.1.2" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#goals-of-this-community-contribution"><i class="fa fa-check"></i><b>10.1.2</b> Goals of this community contribution</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#loading-packages-and-reading-in-data"><i class="fa fa-check"></i><b>10.2</b> Loading packages and reading in data</a></li>
<li class="chapter" data-level="10.3" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#understanding-what-cleaning-is-required"><i class="fa fa-check"></i><b>10.3</b> Understanding what cleaning is required</a></li>
<li class="chapter" data-level="10.4" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#cleaning-and-prepping-the-data"><i class="fa fa-check"></i><b>10.4</b> Cleaning and prepping the data</a><ul>
<li class="chapter" data-level="10.4.1" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#country"><i class="fa fa-check"></i><b>10.4.1</b> Country</a></li>
<li class="chapter" data-level="10.4.2" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#flavor"><i class="fa fa-check"></i><b>10.4.2</b> Flavor</a></li>
<li class="chapter" data-level="10.4.3" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#age"><i class="fa fa-check"></i><b>10.4.3</b> Age</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#visualizing-the-data"><i class="fa fa-check"></i><b>10.5</b> Visualizing the data</a><ul>
<li class="chapter" data-level="10.5.1" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#getting-an-overview"><i class="fa fa-check"></i><b>10.5.1</b> Getting an overview</a></li>
<li class="chapter" data-level="10.5.2" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#ice-cream-preferences-by-continent-and-age"><i class="fa fa-check"></i><b>10.5.2</b> Ice cream preferences by continent and age</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="ice-cream-survey.html"><a href="ice-cream-survey.html#takeaways"><i class="fa fa-check"></i><b>10.6</b> Takeaways</a></li>
</ul></li>
<li class="part"><span><b>V Other</b></span></li>
<li class="chapter" data-level="11" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html"><i class="fa fa-check"></i><b>11</b> Self-Reflection &amp; Demographical Discoveries Using Tinder Data</a><ul>
<li class="chapter" data-level="11.1" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#introduction"><i class="fa fa-check"></i><b>11.1</b> Introduction</a><ul>
<li class="chapter" data-level="11.1.1" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#for-the-taken-non-millennial-folk"><i class="fa fa-check"></i><b>11.1.1</b> For The Taken / Non-Millennial Folk</a></li>
<li class="chapter" data-level="11.1.2" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#replicating-this-analysis-for-yourself"><i class="fa fa-check"></i><b>11.1.2</b> Replicating This Analysis For Yourself</a></li>
<li class="chapter" data-level="11.1.3" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#protecting-the-innocent-and-not-so-innocent"><i class="fa fa-check"></i><b>11.1.3</b> Protecting The Innocent (and Not-So-Innocent)</a></li>
<li class="chapter" data-level="11.1.4" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#a-fun-twist"><i class="fa fa-check"></i><b>11.1.4</b> A Fun Twist</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#analysis"><i class="fa fa-check"></i><b>11.2</b> Analysis</a><ul>
<li class="chapter" data-level="11.2.1" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#our-fun-new-tinder-statistics-amourmetrics"><i class="fa fa-check"></i><b>11.2.1</b> Our Fun New Tinder Statistics: “<em>Amourmetrics</em>”</a></li>
<li class="chapter" data-level="11.2.2" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#all-time-statistics-a-demographical-discovery"><i class="fa fa-check"></i><b>11.2.2</b> All-Time Statistics &amp; A Demographical Discovery</a></li>
<li class="chapter" data-level="11.2.3" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#its-like-batting-average-but-for-tinder"><i class="fa fa-check"></i><b>11.2.3</b> “It’s Like Batting Average, But For Tinder”</a></li>
<li class="chapter" data-level="11.2.4" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#where-when-did-my-swiping-habits-change"><i class="fa fa-check"></i><b>11.2.4</b> Where &amp; When Did My Swiping Habits Change?</a></li>
<li class="chapter" data-level="11.2.5" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#a-problem-with-dates"><i class="fa fa-check"></i><b>11.2.5</b> A Problem With Dates</a></li>
<li class="chapter" data-level="11.2.6" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#overall-trends"><i class="fa fa-check"></i><b>11.2.6</b> Overall Trends</a></li>
<li class="chapter" data-level="11.2.7" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#playing-hard-to-get"><i class="fa fa-check"></i><b>11.2.7</b> Playing Hard To Get</a></li>
<li class="chapter" data-level="11.2.8" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#playing-the-game"><i class="fa fa-check"></i><b>11.2.8</b> Playing The Game</a></li>
<li class="chapter" data-level="11.2.9" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#swipe-night-part-2"><i class="fa fa-check"></i><b>11.2.9</b> “Swipe Night, Part 2”</a></li>
<li class="chapter" data-level="11.2.10" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#for-my-fellow-data-nerds-or-people-who-just-like-graphs"><i class="fa fa-check"></i><b>11.2.10</b> For My Fellow Data Nerds, Or People Who Just Like Graphs</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#conclusion"><i class="fa fa-check"></i><b>11.3</b> Conclusion</a><ul>
<li class="chapter" data-level="11.3.1" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#dubious-demographics"><i class="fa fa-check"></i><b>11.3.1</b> Dubious Demographics</a></li>
<li class="chapter" data-level="11.3.2" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#love-is-bored"><i class="fa fa-check"></i><b>11.3.2</b> Love Is Bored</a></li>
<li class="chapter" data-level="11.3.3" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#does-location-matter-well-maybe."><i class="fa fa-check"></i><b>11.3.3</b> Does Location Matter? Well, Maybe.</a></li>
<li class="chapter" data-level="11.3.4" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#the-cinderella-effect"><i class="fa fa-check"></i><b>11.3.4</b> The Cinderella Effect</a></li>
<li class="chapter" data-level="11.3.5" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#playing-hard-to-get-may-a-be-real-thing"><i class="fa fa-check"></i><b>11.3.5</b> “Playing Hard To Get” May A Be Real Thing</a></li>
<li class="chapter" data-level="11.3.6" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#can-we-solve-dating-using-machine-learning"><i class="fa fa-check"></i><b>11.3.6</b> Can We Solve Dating Using Machine Learning?</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="self-reflection-demographical-discoveries-using-tinder-data.html"><a href="self-reflection-demographical-discoveries-using-tinder-data.html#final-thoughts"><i class="fa fa-check"></i><b>11.4</b> Final Thoughts</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="wordcloud.html"><a href="wordcloud.html"><i class="fa fa-check"></i><b>12</b> Wordcloud</a><ul>
<li class="chapter" data-level="12.1" data-path="wordcloud.html"><a href="wordcloud.html#introduction-1"><i class="fa fa-check"></i><b>12.1</b> 1. Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="wordcloud.html"><a href="wordcloud.html#demo-of-wordcloud2-package"><i class="fa fa-check"></i><b>12.2</b> 2. Demo of <code>wordcloud2</code> Package</a><ul>
<li class="chapter" data-level="12.2.1" data-path="wordcloud.html"><a href="wordcloud.html#basic-wordcloud-graph"><i class="fa fa-check"></i><b>12.2.1</b> 2.0 Basic Wordcloud Graph</a></li>
<li class="chapter" data-level="12.2.2" data-path="wordcloud.html"><a href="wordcloud.html#font-size"><i class="fa fa-check"></i><b>12.2.2</b> 2.1 Font Size</a></li>
<li class="chapter" data-level="12.2.3" data-path="wordcloud.html"><a href="wordcloud.html#color-and-background-color"><i class="fa fa-check"></i><b>12.2.3</b> 2.2 Color and Background Color</a></li>
<li class="chapter" data-level="12.2.4" data-path="wordcloud.html"><a href="wordcloud.html#shape"><i class="fa fa-check"></i><b>12.2.4</b> 2.3 Shape</a></li>
<li class="chapter" data-level="12.2.5" data-path="wordcloud.html"><a href="wordcloud.html#rotation"><i class="fa fa-check"></i><b>12.2.5</b> 2.4 Rotation</a></li>
<li class="chapter" data-level="12.2.6" data-path="wordcloud.html"><a href="wordcloud.html#language"><i class="fa fa-check"></i><b>12.2.6</b> 2.5 Language</a></li>
<li class="chapter" data-level="12.2.7" data-path="wordcloud.html"><a href="wordcloud.html#customized-shape"><i class="fa fa-check"></i><b>12.2.7</b> 2.6 Customized shape</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html"><i class="fa fa-check"></i><b>13</b> Introduction to Stringr Stringr包入门详解</a><ul>
<li class="chapter" data-level="13.1" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#stringr-包的安装与调用"><i class="fa fa-check"></i><b>13.1</b> stringr 包的安装与调用</a><ul>
<li class="chapter" data-level="13.1.1" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#安装"><i class="fa fa-check"></i><b>13.1.1</b> 安装</a></li>
<li class="chapter" data-level="13.1.2" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#调用"><i class="fa fa-check"></i><b>13.1.2</b> 调用</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#字符串匹配函数detect-matches"><i class="fa fa-check"></i><b>13.2</b> 字符串匹配函数(Detect Matches)</a><ul>
<li class="chapter" data-level="13.2.1" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_detectstring-pattern"><i class="fa fa-check"></i><b>13.2.1</b> str_detect(string, pattern)</a></li>
<li class="chapter" data-level="13.2.2" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_whichstring-pattern"><i class="fa fa-check"></i><b>13.2.2</b> str_which(string, pattern)</a></li>
<li class="chapter" data-level="13.2.3" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_countstring-pattern"><i class="fa fa-check"></i><b>13.2.3</b> str_count(string, pattern)</a></li>
<li class="chapter" data-level="13.2.4" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_locatestring-pattern"><i class="fa fa-check"></i><b>13.2.4</b> str_locate(string, pattern)</a></li>
<li class="chapter" data-level="13.2.5" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_locate_allstring-pattern"><i class="fa fa-check"></i><b>13.2.5</b> str_locate_all(string, pattern)</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#字符串的截取函数subset-strings"><i class="fa fa-check"></i><b>13.3</b> 字符串的截取函数(Subset Strings)</a><ul>
<li class="chapter" data-level="13.3.1" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_substring-start-index-end-index"><i class="fa fa-check"></i><b>13.3.1</b> str_sub(string, start index, end index)</a></li>
<li class="chapter" data-level="13.3.2" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_subsetstringpattern"><i class="fa fa-check"></i><b>13.3.2</b> str_subset(string,pattern)</a></li>
<li class="chapter" data-level="13.3.3" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_extractstringpattern"><i class="fa fa-check"></i><b>13.3.3</b> str_extract(string,pattern)</a></li>
<li class="chapter" data-level="13.3.4" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_matchstring-pattern"><i class="fa fa-check"></i><b>13.3.4</b> str_match(string, pattern)</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#字符串长度编辑函数manage-lengths"><i class="fa fa-check"></i><b>13.4</b> 字符串长度编辑函数(Manage Lengths)</a><ul>
<li class="chapter" data-level="13.4.1" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_lengthstring"><i class="fa fa-check"></i><b>13.4.1</b> str_length(string)</a></li>
<li class="chapter" data-level="13.4.2" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_padstring-width-side-cleft-rightboth-pad"><i class="fa fa-check"></i><b>13.4.2</b> str_pad((string, width, side = c(“left”, “right”,“both”), pad = &quot; &quot;)</a></li>
<li class="chapter" data-level="13.4.3" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_truncstring-width-side-cright-leftcenter-ellipsis"><i class="fa fa-check"></i><b>13.4.3</b> str_trunc(string, width, side = c(“right”, “left”,“center”), ellipsis = “…”)</a></li>
<li class="chapter" data-level="13.4.4" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_trimstring-side-cboth-left-right"><i class="fa fa-check"></i><b>13.4.4</b> str_trim(string, side = c(“both”, “left”, “right”))</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#字符串变换与编辑函数mutate-strings"><i class="fa fa-check"></i><b>13.5</b> 字符串变换与编辑函数(Mutate Strings)</a><ul>
<li class="chapter" data-level="13.5.1" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_substringstart-indexend-index"><i class="fa fa-check"></i><b>13.5.1</b> str_sub(string,start index,end index)</a></li>
<li class="chapter" data-level="13.5.2" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_replacestringpatternreplacement"><i class="fa fa-check"></i><b>13.5.2</b> str_replace(string,pattern,replacement)</a></li>
<li class="chapter" data-level="13.5.3" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_replace_allstringpatternreplacement"><i class="fa fa-check"></i><b>13.5.3</b> str_replace_all(string,pattern,replacement)</a></li>
<li class="chapter" data-level="13.5.4" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_to_lowerstring"><i class="fa fa-check"></i><b>13.5.4</b> str_to_lower(string)</a></li>
<li class="chapter" data-level="13.5.5" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_to_upperstring"><i class="fa fa-check"></i><b>13.5.5</b> str_to_upper(string)</a></li>
<li class="chapter" data-level="13.5.6" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_to_titlestring"><i class="fa fa-check"></i><b>13.5.6</b> str_to_title(string)</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#字符串分割与拼接函数join-and-split"><i class="fa fa-check"></i><b>13.6</b> 字符串分割与拼接函数(Join and Split)</a><ul>
<li class="chapter" data-level="13.6.1" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_c-sep-collapse-null"><i class="fa fa-check"></i><b>13.6.1</b> str_c(…, sep = &quot;&quot;, collapse = NULL)</a></li>
<li class="chapter" data-level="13.6.2" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_c-sep-collapse"><i class="fa fa-check"></i><b>13.6.2</b> str_c(…, sep = &quot;“, collapse =”&quot;)</a></li>
<li class="chapter" data-level="13.6.3" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_dupstring-times"><i class="fa fa-check"></i><b>13.6.3</b> str_dup(string, times)</a></li>
<li class="chapter" data-level="13.6.4" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_split_fixedstring-pattern-n"><i class="fa fa-check"></i><b>13.6.4</b> str_split_fixed((string, pattern, n)</a></li>
<li class="chapter" data-level="13.6.5" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_glue-.sep-.envir-parent.frame"><i class="fa fa-check"></i><b>13.6.5</b> str_glue(…, .sep = &quot;&quot;, .envir = parent.frame())</a></li>
<li class="chapter" data-level="13.6.6" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_glue_data.x-.sep-.envir-parent.frame-.na-na"><i class="fa fa-check"></i><b>13.6.6</b> str_glue_data(.x, …, .sep = &quot;“, .envir = parent.frame(), .na =”NA&quot;)</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#字符串排序order-strings"><i class="fa fa-check"></i><b>13.7</b> 字符串排序(Order Strings)</a><ul>
<li class="chapter" data-level="13.7.1" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_sortstring"><i class="fa fa-check"></i><b>13.7.1</b> str_sort(string)</a></li>
<li class="chapter" data-level="13.7.2" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_orderstring"><i class="fa fa-check"></i><b>13.7.2</b> str_order(string)</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#字符串的编译格式与显示格式修改函数encode-and-visualize-strings"><i class="fa fa-check"></i><b>13.8</b> 字符串的编译格式与显示格式修改函数(Encode and Visualize Strings)</a><ul>
<li class="chapter" data-level="13.8.1" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_convstring-encoding"><i class="fa fa-check"></i><b>13.8.1</b> str_conv(string, encoding)</a></li>
<li class="chapter" data-level="13.8.2" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_viewstring-pattern"><i class="fa fa-check"></i><b>13.8.2</b> str_view(string, pattern)</a></li>
<li class="chapter" data-level="13.8.3" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#str_wrapstringwidthindentexdent"><i class="fa fa-check"></i><b>13.8.3</b> str_wrap(string,width,indent,exdent)</a></li>
</ul></li>
<li class="chapter" data-level="13.9" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#正则表达式regular-expression"><i class="fa fa-check"></i><b>13.9</b> 正则表达式(Regular Expression)</a><ul>
<li class="chapter" data-level="13.9.1" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#字符匹配"><i class="fa fa-check"></i><b>13.9.1</b> 字符匹配</a></li>
<li class="chapter" data-level="13.9.2" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#替换alternates"><i class="fa fa-check"></i><b>13.9.2</b> 替换(Alternates)</a></li>
<li class="chapter" data-level="13.9.3" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#锚点anchors"><i class="fa fa-check"></i><b>13.9.3</b> 锚点(Anchors)</a></li>
<li class="chapter" data-level="13.9.4" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#查找look-arounds"><i class="fa fa-check"></i><b>13.9.4</b> 查找(Look Arounds)</a></li>
<li class="chapter" data-level="13.9.5" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#数量词的使用quantifiers"><i class="fa fa-check"></i><b>13.9.5</b> 数量词的使用(Quantifiers)</a></li>
<li class="chapter" data-level="13.9.6" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#括号划分表达式并用转义号码替换"><i class="fa fa-check"></i><b>13.9.6</b> 括号划分表达式并用转义号码替换</a></li>
</ul></li>
<li class="chapter" data-level="13.10" data-path="introduction-to-stringr-stringr包入门详解.html"><a href="introduction-to-stringr-stringr包入门详解.html#参考文献reference"><i class="fa fa-check"></i><b>13.10</b> 参考文献(Reference)</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="latex-visualization.html"><a href="latex-visualization.html"><i class="fa fa-check"></i><b>14</b> Latex Visualization</a><ul>
<li class="chapter" data-level="14.0.1" data-path="latex-visualization.html"><a href="latex-visualization.html#summary-2"><i class="fa fa-check"></i><b>14.0.1</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="ggmosaic.html"><a href="ggmosaic.html"><i class="fa fa-check"></i><b>15</b> ggmosaic</a><ul>
<li class="chapter" data-level="15.1" data-path="ggmosaic.html"><a href="ggmosaic.html#overview-3"><i class="fa fa-check"></i><b>15.1</b> Overview</a></li>
<li class="chapter" data-level="15.2" data-path="ggmosaic.html"><a href="ggmosaic.html#introduction-2"><i class="fa fa-check"></i><b>15.2</b> Introduction</a></li>
<li class="chapter" data-level="15.3" data-path="ggmosaic.html"><a href="ggmosaic.html#order-of-splits"><i class="fa fa-check"></i><b>15.3</b> Order of splits</a></li>
<li class="chapter" data-level="15.4" data-path="ggmosaic.html"><a href="ggmosaic.html#splitting-on-one-variablebinned-data"><i class="fa fa-check"></i><b>15.4</b> Splitting on One Variable(binned data)</a></li>
<li class="chapter" data-level="15.5" data-path="ggmosaic.html"><a href="ggmosaic.html#splitting-on-one-variableunbinned-data"><i class="fa fa-check"></i><b>15.5</b> Splitting on One Variable(unbinned data)</a></li>
<li class="chapter" data-level="15.6" data-path="ggmosaic.html"><a href="ggmosaic.html#splitting-on-two-variables"><i class="fa fa-check"></i><b>15.6</b> Splitting on Two Variables</a></li>
<li class="chapter" data-level="15.7" data-path="ggmosaic.html"><a href="ggmosaic.html#splitting-on-three-variables"><i class="fa fa-check"></i><b>15.7</b> Splitting on Three Variables</a></li>
<li class="chapter" data-level="15.8" data-path="ggmosaic.html"><a href="ggmosaic.html#adjusting-the-direction-of-splits"><i class="fa fa-check"></i><b>15.8</b> Adjusting the Direction of Splits</a></li>
<li class="chapter" data-level="15.9" data-path="ggmosaic.html"><a href="ggmosaic.html#alternative-approach-conditional"><i class="fa fa-check"></i><b>15.9</b> Alternative approach: Conditional</a></li>
<li class="chapter" data-level="15.10" data-path="ggmosaic.html"><a href="ggmosaic.html#alternative-approach-facetting"><i class="fa fa-check"></i><b>15.10</b> Alternative approach: Facetting</a></li>
<li class="chapter" data-level="15.11" data-path="ggmosaic.html"><a href="ggmosaic.html#comparison-with-vcdmosaic"><i class="fa fa-check"></i><b>15.11</b> Comparison with vcd::mosaic</a></li>
<li class="chapter" data-level="15.12" data-path="ggmosaic.html"><a href="ggmosaic.html#chinese-translation-ggmosaic马赛克图"><i class="fa fa-check"></i><b>15.12</b> Chinese Translation: ‘ggmosaic’（马赛克图）</a></li>
<li class="chapter" data-level="15.13" data-path="ggmosaic.html"><a href="ggmosaic.html#引言"><i class="fa fa-check"></i><b>15.13</b> 引言</a></li>
<li class="chapter" data-level="15.14" data-path="ggmosaic.html"><a href="ggmosaic.html#简介"><i class="fa fa-check"></i><b>15.14</b> 简介</a></li>
<li class="chapter" data-level="15.15" data-path="ggmosaic.html"><a href="ggmosaic.html#分割的顺序"><i class="fa fa-check"></i><b>15.15</b> 分割的顺序</a></li>
<li class="chapter" data-level="15.16" data-path="ggmosaic.html"><a href="ggmosaic.html#根据一个变量分割分箱数据"><i class="fa fa-check"></i><b>15.16</b> 根据一个变量分割（分箱数据）：</a></li>
<li class="chapter" data-level="15.17" data-path="ggmosaic.html"><a href="ggmosaic.html#根据一个变量分割非分箱数据"><i class="fa fa-check"></i><b>15.17</b> 根据一个变量分割(非分箱数据):</a></li>
<li class="chapter" data-level="15.18" data-path="ggmosaic.html"><a href="ggmosaic.html#根据两个变量分割"><i class="fa fa-check"></i><b>15.18</b> 根据两个变量分割</a></li>
<li class="chapter" data-level="15.19" data-path="ggmosaic.html"><a href="ggmosaic.html#根据三个变量分割"><i class="fa fa-check"></i><b>15.19</b> 根据三个变量分割</a></li>
<li class="chapter" data-level="15.20" data-path="ggmosaic.html"><a href="ggmosaic.html#调整切割的方向"><i class="fa fa-check"></i><b>15.20</b> 调整切割的方向</a></li>
<li class="chapter" data-level="15.21" data-path="ggmosaic.html"><a href="ggmosaic.html#另外一种方法条件变量conditional"><i class="fa fa-check"></i><b>15.21</b> 另外一种方法:条件变量(Conditional)</a></li>
<li class="chapter" data-level="15.22" data-path="ggmosaic.html"><a href="ggmosaic.html#另外一种方法块化facet"><i class="fa fa-check"></i><b>15.22</b> 另外一种方法:块化(Facet)</a></li>
<li class="chapter" data-level="15.23" data-path="ggmosaic.html"><a href="ggmosaic.html#ggmosaic-vs-vcdmosaic"><i class="fa fa-check"></i><b>15.23</b> ‘ggmosaic’ vs vcd::‘mosaic’</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html"><i class="fa fa-check"></i><b>16</b> Web scraping using rvest</a><ul>
<li class="chapter" data-level="16.1" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#overview-4"><i class="fa fa-check"></i><b>16.1</b> 1 Overview</a></li>
<li class="chapter" data-level="16.2" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#an-easy-example"><i class="fa fa-check"></i><b>16.2</b> 2 An Easy Example</a></li>
<li class="chapter" data-level="16.3" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#html-basics"><i class="fa fa-check"></i><b>16.3</b> 3 HTML Basics</a><ul>
<li class="chapter" data-level="16.3.1" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#access-the-source-code"><i class="fa fa-check"></i><b>16.3.1</b> 3.1 Access the source code</a></li>
<li class="chapter" data-level="16.3.2" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#html-structures"><i class="fa fa-check"></i><b>16.3.2</b> 3.2 HTML structures</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#rvest"><i class="fa fa-check"></i><b>16.4</b> 4 Rvest</a><ul>
<li class="chapter" data-level="16.4.1" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#html_nodes-and-html_node"><i class="fa fa-check"></i><b>16.4.1</b> 4.1 html_nodes and html_node</a></li>
<li class="chapter" data-level="16.4.2" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#css-and-xpath"><i class="fa fa-check"></i><b>16.4.2</b> 4.2 css and xpath</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#more-examples"><i class="fa fa-check"></i><b>16.5</b> 5 More Examples</a><ul>
<li class="chapter" data-level="16.5.1" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#scrape-links-using-attributes"><i class="fa fa-check"></i><b>16.5.1</b> 5.1 Scrape links using attributes</a></li>
<li class="chapter" data-level="16.5.2" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#scrape-table"><i class="fa fa-check"></i><b>16.5.2</b> 5.2 Scrape Table</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="web-scraping-using-rvest.html"><a href="web-scraping-using-rvest.html#external-resources-2"><i class="fa fa-check"></i><b>16.6</b> 6 External Resources</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="rstudio-vs-jupyterlab-for-data-science.html"><a href="rstudio-vs-jupyterlab-for-data-science.html"><i class="fa fa-check"></i><b>17</b> RStudio vs JupyterLab for Data Science</a></li>
<li class="chapter" data-level="18" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html"><i class="fa fa-check"></i><b>18</b> Dplyr Relational Databases</a><ul>
<li class="chapter" data-level="18.1" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#overview-5"><i class="fa fa-check"></i><b>18.1</b> 1.Overview</a></li>
<li class="chapter" data-level="18.2" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#definition-of-relational-databases"><i class="fa fa-check"></i><b>18.2</b> 2.Definition of Relational Databases</a></li>
<li class="chapter" data-level="18.3" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#r-packages"><i class="fa fa-check"></i><b>18.3</b> 3. R Packages</a></li>
<li class="chapter" data-level="18.4" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#data-description-for-example"><i class="fa fa-check"></i><b>18.4</b> 4. Data description for example</a><ul>
<li class="chapter" data-level="18.4.1" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#bis-library"><i class="fa fa-check"></i><b>18.4.1</b> 4.1 BIS Library</a></li>
<li class="chapter" data-level="18.4.2" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#selected-data-sets"><i class="fa fa-check"></i><b>18.4.2</b> 4.2 Selected data sets</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#types-of-joins"><i class="fa fa-check"></i><b>18.5</b> 5. Types of joins</a><ul>
<li class="chapter" data-level="18.5.1" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#left_join"><i class="fa fa-check"></i><b>18.5.1</b> 5.1 Left_join</a></li>
<li class="chapter" data-level="18.5.2" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#right_join"><i class="fa fa-check"></i><b>18.5.2</b> 5.2. Right_join</a></li>
<li class="chapter" data-level="18.5.3" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#inner_join"><i class="fa fa-check"></i><b>18.5.3</b> 5.3. Inner_join</a></li>
<li class="chapter" data-level="18.5.4" data-path="dplyr-relational-databases.html"><a href="dplyr-relational-databases.html#full_join"><i class="fa fa-check"></i><b>18.5.4</b> 5.4. Full_join</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html"><i class="fa fa-check"></i><b>19</b> The first step to analyse a dataset</a><ul>
<li class="chapter" data-level="19.1" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#introduction-3"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
<li class="chapter" data-level="19.2" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#a-glimpse-at-the-dataset"><i class="fa fa-check"></i><b>19.2</b> A glimpse at the dataset</a><ul>
<li class="chapter" data-level="19.2.1" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#how-does-the-data-look-like"><i class="fa fa-check"></i><b>19.2.1</b> How does the data look like?</a></li>
<li class="chapter" data-level="19.2.2" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#retrive-the-metadata"><i class="fa fa-check"></i><b>19.2.2</b> Retrive the metadata</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#dive-into-one-column"><i class="fa fa-check"></i><b>19.3</b> Dive into one column</a><ul>
<li class="chapter" data-level="19.3.1" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#summarise-a-numerical-variable"><i class="fa fa-check"></i><b>19.3.1</b> Summarise a numerical variable</a></li>
<li class="chapter" data-level="19.3.2" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#understand-a-categorical-variable"><i class="fa fa-check"></i><b>19.3.2</b> Understand a categorical variable</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#advanced-patterns-about-a-data-set"><i class="fa fa-check"></i><b>19.4</b> Advanced patterns about a data set</a><ul>
<li class="chapter" data-level="19.4.1" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#locate-the-missing-values"><i class="fa fa-check"></i><b>19.4.1</b> Locate the missing values</a></li>
<li class="chapter" data-level="19.4.2" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#find-the-outlier-for-numeric-values"><i class="fa fa-check"></i><b>19.4.2</b> Find the outlier for numeric values</a></li>
<li class="chapter" data-level="19.4.3" data-path="the-first-step-to-analyse-a-dataset.html"><a href="the-first-step-to-analyse-a-dataset.html#find-out-the-correlations-among-variables"><i class="fa fa-check"></i><b>19.4.3</b> Find out the correlations among variables</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VI Links</b></span></li>
<li class="chapter" data-level="20" data-path="workshops.html"><a href="workshops.html"><i class="fa fa-check"></i><b>20</b> Workshops</a><ul>
<li class="chapter" data-level="20.1" data-path="workshops.html"><a href="workshops.html#bookdown"><i class="fa fa-check"></i><b>20.1</b> bookdown</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="cheatsheets.html"><a href="cheatsheets.html"><i class="fa fa-check"></i><b>21</b> Cheatsheets</a><ul>
<li class="chapter" data-level="21.1" data-path="cheatsheets.html"><a href="cheatsheets.html#html-javascript-and-d3"><i class="fa fa-check"></i><b>21.1</b> HTML, JavaScript, and D3</a></li>
<li class="chapter" data-level="21.2" data-path="cheatsheets.html"><a href="cheatsheets.html#leaflet"><i class="fa fa-check"></i><b>21.2</b> Leaflet</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="videos.html"><a href="videos.html"><i class="fa fa-check"></i><b>22</b> Videos</a><ul>
<li class="chapter" data-level="22.1" data-path="videos.html"><a href="videos.html#cartodb"><i class="fa fa-check"></i><b>22.1</b> CartoDB</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="translation.html"><a href="translation.html"><i class="fa fa-check"></i><b>23</b> Translation</a><ul>
<li class="chapter" data-level="23.1" data-path="translation.html"><a href="translation.html#translation-for-r-ggplot2-visualization-tutorials"><i class="fa fa-check"></i><b>23.1</b> Translation for R &amp; ggplot2 visualization tutorials</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="list-of-community-contribution.html"><a href="list-of-community-contribution.html"><i class="fa fa-check"></i><b>24</b> List of Community Contribution</a><ul>
<li class="chapter" data-level="24.0.1" data-path="list-of-community-contribution.html"><a href="list-of-community-contribution.html#a-lighting-talk-in-class"><i class="fa fa-check"></i><b>24.0.1</b> * A lighting talk in class</a></li>
<li class="chapter" data-level="24.0.2" data-path="list-of-community-contribution.html"><a href="list-of-community-contribution.html#a-cheatsheet"><i class="fa fa-check"></i><b>24.0.2</b> * A cheatsheet</a></li>
<li class="chapter" data-level="24.0.3" data-path="list-of-community-contribution.html"><a href="list-of-community-contribution.html#a-series-of-tutorials"><i class="fa fa-check"></i><b>24.0.3</b> * A series of tutorials</a></li>
<li class="chapter" data-level="24.0.4" data-path="list-of-community-contribution.html"><a href="list-of-community-contribution.html#a-workshop---shareyourwork"><i class="fa fa-check"></i><b>24.0.4</b> * A workshop - “ShareYouRWork”</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="hex-sticker.html"><a href="hex-sticker.html"><i class="fa fa-check"></i><b>25</b> Hex Sticker</a></li>
<li class="chapter" data-level="26" data-path="edav-flowchart.html"><a href="edav-flowchart.html"><i class="fa fa-check"></i><b>26</b> EDAV Flowchart</a><ul>
<li class="chapter" data-level="26.1" data-path="edav-flowchart.html"><a href="edav-flowchart.html#distribution"><i class="fa fa-check"></i><b>26.1</b> Distribution</a></li>
<li class="chapter" data-level="26.2" data-path="edav-flowchart.html"><a href="edav-flowchart.html#correlation"><i class="fa fa-check"></i><b>26.2</b> Correlation</a></li>
<li class="chapter" data-level="26.3" data-path="edav-flowchart.html"><a href="edav-flowchart.html#comparison"><i class="fa fa-check"></i><b>26.3</b> Comparison</a></li>
<li class="chapter" data-level="26.4" data-path="edav-flowchart.html"><a href="edav-flowchart.html#patterns"><i class="fa fa-check"></i><b>26.4</b> Patterns</a></li>
<li class="chapter" data-level="26.5" data-path="edav-flowchart.html"><a href="edav-flowchart.html#statistical-values-ex.-median-range"><i class="fa fa-check"></i><b>26.5</b> Statistical Values (ex. Median, Range)</a></li>
<li class="chapter" data-level="26.6" data-path="edav-flowchart.html"><a href="edav-flowchart.html#time-related"><i class="fa fa-check"></i><b>26.6</b> Time Related</a></li>
<li class="chapter" data-level="26.7" data-path="edav-flowchart.html"><a href="edav-flowchart.html#survey-data-likert-scale"><i class="fa fa-check"></i><b>26.7</b> Survey Data (Likert Scale)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Community contributions for EDAV Fall 2019</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dplyr-relational-databases" class="section level1">
<h1><span class="header-section-number">Chapter 18</span> Dplyr Relational Databases</h1>
<p>Alberto Munguia and Chengyi Chen</p>
<div id="overview-5" class="section level2">
<h2><span class="header-section-number">18.1</span> 1.Overview</h2>
<p>This project intends to illustrate the use of some libarries that are relevant to manipulate and transform relational databases.</p>
</div>
<div id="definition-of-relational-databases" class="section level2">
<h2><span class="header-section-number">18.2</span> 2.Definition of Relational Databases</h2>
<p>A relational database is a type of database that stores and provides access to data points that are related to one another. Relational databases are based on the relational model, an intuitive, straightforward way of representing data in tables. The relational model organizes data into one or more tables (or “relations”) of columns and rows, with a unique key identifying each row. Key plays an important role in relational database.</p>
<ul>
<li><p>Primary Key a.. A primary is a column or set of columns in a table that uniquely identifies tuples (rows) in that table.</p></li>
<li><p>Super Key a.. A super key is a set of one or more columns (attributes) to uniquely identify rows in a table.</p></li>
<li><p>Candidate Key a.. A super key with no redundant attribute is known as a candidate key.</p></li>
<li><p>Alternate Key a.. Out of all candidate keys, only one gets selected as primary key, remaining keys are known as alternate or secondary keys.</p></li>
<li><p>Composite Key a.. A key that consists of more than one attribute to uniquely identify rows (also known as records &amp; tuples) in a table is called composite key.</p></li>
<li><p>Foreign Key a.. Foreign keys are the columns of a table that points to the primary key of another table. They act as a cross-reference between tables.</p></li>
</ul>
<p><img src="resources/group38/Relational%20Data%20Base.png" style="width:70.0%" /></p>
<p>Standard relational databases enable users to manage predefined data relationships across multiple databases. Popular examples of relational databases include Microsoft SQL Server, Oracle Database, MySQL and IBM DB2.</p>
</div>
<div id="r-packages" class="section level2">
<h2><span class="header-section-number">18.3</span> 3. R Packages</h2>
<p>R offers flexibility in the manipulation of relational of databases through some specific functions embedded in the packages like:</p>
<ul>
<li><a href="https://www.rdocumentation.org/packages/dplyr" target="_blank"><code>dplyr</code></a></li>
<li><a href="https://www.rdocumentation.org/packages/base/versions/3.6.1" target="_blank"><code>base</code></a></li>
<li><a href="https://www.rdocumentation.org/packages/sqldf/versions/0.4-11" target="_blank"><code>sqldf</code></a></li>
</ul>
<p>Nevertheless, the data manipulation in R is easier with dplyr because the package is oriented towards the data analysis. Furthemore, dplyr offers some advantages in the join functions in comaprison with base and sqldf:</p>
<ul>
<li>For large amounts of data joining tables is faster.</li>
<li>Rows are kept in existing order.</li>
<li>Tells users what keys you are merging by.</li>
<li>Work with database tables.</li>
</ul>
<p>For our example you need to install the next packages:</p>
<ul>
<li>For the dplyr manipulation.
<ul>
<li><code>install.packages('dplyr')</code></li>
</ul></li>
<li>For the SQL manipulation.
<ul>
<li><code>install.packages('sqldf')</code></li>
<li><code>install.packages('gsubfn')</code></li>
<li><code>install.packages('proto')</code></li>
<li><code>install.packages('RSQLite')</code></li>
</ul></li>
<li>For getting the data for the example
<ul>
<li><code>install.packages('BIS')</code></li>
</ul></li>
</ul>
<p>Load the libraries</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb458-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb458-2" data-line-number="2"></a>
<a class="sourceLine" id="cb458-3" data-line-number="3"></a>
<a class="sourceLine" id="cb458-4" data-line-number="4"><span class="kw">library</span>(sqldf)</a>
<a class="sourceLine" id="cb458-5" data-line-number="5"><span class="kw">library</span>(gsubfn)</a>
<a class="sourceLine" id="cb458-6" data-line-number="6"><span class="kw">library</span>(proto)</a>
<a class="sourceLine" id="cb458-7" data-line-number="7"><span class="kw">library</span>(RSQLite)</a>
<a class="sourceLine" id="cb458-8" data-line-number="8"></a>
<a class="sourceLine" id="cb458-9" data-line-number="9"></a>
<a class="sourceLine" id="cb458-10" data-line-number="10"><span class="kw">library</span>(BIS)</a></code></pre></div>
</div>
<div id="data-description-for-example" class="section level2">
<h2><span class="header-section-number">18.4</span> 4. Data description for example</h2>
<div id="bis-library" class="section level3">
<h3><span class="header-section-number">18.4.1</span> 4.1 BIS Library</h3>
<p>We will explore relational data from the recent data package <a href="https://www.rdocumentation.org/packages/BIS/versions/0.2.1" target="_blank"><code>BIS</code></a> that provides an interface to data provided by the Bank for International Settlements <a href="https://www.bis.org" class="uri">https://www.bis.org</a>, allowing for programmatic retrieval of a large quantity of (central) banking data.</p>
</div>
<div id="selected-data-sets" class="section level3">
<h3><span class="header-section-number">18.4.2</span> 4.2 Selected data sets</h3>
<p>First, we are going to upload the tables that are available in the BIS package.</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb459-1" data-line-number="1">datasets=<span class="kw">get_datasets</span>()</a>
<a class="sourceLine" id="cb459-2" data-line-number="2">datasets</a></code></pre></div>
<pre><code>## # A tibble: 22 x 2
##    name                             url                                    
##    &lt;chr&gt;                            &lt;chr&gt;                                  
##  1 Locational banking statistics    https://www.bis.org/statistics/full_bi…
##  2 Consolidated banking statistics  https://www.bis.org/statistics/full_bi…
##  3 Debt securities statistics       https://www.bis.org/statistics/full_bi…
##  4 Credit to the non-financial sec… https://www.bis.org/statistics/full_bi…
##  5 Credit-to-GDP gaps               https://www.bis.org/statistics/full_we…
##  6 Debt service ratios for the pri… https://www.bis.org/statistics/full_bi…
##  7 Global liquidity indicators      https://www.bis.org/statistics/full_bi…
##  8 Exchange-traded derivatives sta… https://www.bis.org/statistics/full_bi…
##  9 OTC derivatives outstanding      https://www.bis.org/statistics/full_bi…
## 10 US dollar exchange rates (month… https://www.bis.org/statistics/full_we…
## # … with 12 more rows</code></pre>
<p>For the purpose of our excercise we have choose tables 6 and 18 from the BIS data set.</p>
<ul>
<li>Table 6 corresponds to the quarterly data of the Debt service ratios for the private non-financial sector for the countries that are part of the BIS. In order to facilite our example we are going to filter our data and only keep the quaterly information that corresponds to the Private non-financial sector.</li>
</ul>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb461-1" data-line-number="1">Debt_service=<span class="kw">get_bis</span>(datasets<span class="op">$</span>url[<span class="dv">6</span>])</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_character()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_double(),
##   FREQ = col_character(),
##   Frequency = col_character(),
##   BORROWERS_CTY = col_character(),
##   `Borrowers&#39; country` = col_character(),
##   DSR_BORROWERS = col_character(),
##   Borrowers = col_character(),
##   `Time Period` = col_character()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb466-1" data-line-number="1"><span class="kw">glimpse</span>(Debt_service)</a></code></pre></div>
<pre><code>## Observations: 5,334
## Variables: 8
## $ freq              &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency         &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;BE&quot;, &quot;BE&quot;, &quot;BE&quot;, &quot;BR&quot;, &quot;CA&quot;…
## $ borrowers_country &lt;chr&gt; &quot;Australia&quot;, &quot;Australia&quot;, &quot;Australia&quot;, &quot;Belgiu…
## $ dsr_borrowers     &lt;chr&gt; &quot;H&quot;, &quot;N&quot;, &quot;P&quot;, &quot;H&quot;, &quot;N&quot;, &quot;P&quot;, &quot;P&quot;, &quot;H&quot;, &quot;N&quot;, &quot;…
## $ borrowers         &lt;chr&gt; &quot;Households &amp; NPISHs&quot;, &quot;Non-financial corporat…
## $ date              &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1…
## $ obs_value         &lt;dbl&gt; 10.0, 44.3, 16.3, 6.1, 36.3, 13.8, 40.0, 10.6,…</code></pre>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb468-1" data-line-number="1">Debt_service_filter=<span class="kw">filter</span>(Debt_service, Debt_service<span class="op">$</span>dsr_borrowers<span class="op">==</span><span class="st">&quot;P&quot;</span>)</a>
<a class="sourceLine" id="cb468-2" data-line-number="2"><span class="kw">glimpse</span>(Debt_service_filter)</a></code></pre></div>
<pre><code>## Observations: 2,580
## Variables: 8
## $ freq              &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency         &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;BE&quot;, &quot;BR&quot;, &quot;CA&quot;, &quot;CH&quot;, &quot;CN&quot;, &quot;CZ&quot;, &quot;DE&quot;…
## $ borrowers_country &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, &quot;Brazil&quot;, &quot;Canada&quot;, &quot;S…
## $ dsr_borrowers     &lt;chr&gt; &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;…
## $ borrowers         &lt;chr&gt; &quot;Private non-financial sector&quot;, &quot;Private non-f…
## $ date              &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1…
## $ obs_value         &lt;dbl&gt; 16.3, 13.8, 40.0, 21.4, 16.8, 10.9, 13.8, 13.0…</code></pre>
<ul>
<li>Table 18 corresponds to the quarterly data of the Property prices: long series for the countries that are part of the BIS.</li>
</ul>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb470-1" data-line-number="1">Property_prices=<span class="kw">get_bis</span>(datasets<span class="op">$</span>url[<span class="dv">18</span>])</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_character()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_double(),
##   FREQ = col_character(),
##   Frequency = col_character(),
##   REF_AREA = col_character(),
##   `Reference area` = col_character(),
##   `Time Period` = col_character()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb475-1" data-line-number="1"><span class="kw">glimpse</span>(Property_prices)</a></code></pre></div>
<pre><code>## Observations: 4,526
## Variables: 6
## $ freq           &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;,…
## $ frequency      &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly…
## $ ref_area       &lt;chr&gt; &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;…
## $ reference_area &lt;chr&gt; &quot;Italy&quot;, &quot;Italy&quot;, &quot;Italy&quot;, &quot;Italy&quot;, &quot;Italy&quot;, &quot;Ita…
## $ date           &lt;chr&gt; &quot;1927-q1&quot;, &quot;1927-q2&quot;, &quot;1927-q3&quot;, &quot;1927-q4&quot;, &quot;1928…
## $ obs_value      &lt;dbl&gt; 0.0343, 0.0342, 0.0340, 0.0339, 0.0338, 0.0336, 0…</code></pre>
<ul>
<li>The key to joining our two tables are going to be the code of the country and the date.</li>
</ul>
<p><img src="resources/group38/Key%20BIS.png" style="width:65.0%" /></p>
</div>
</div>
<div id="types-of-joins" class="section level2">
<h2><span class="header-section-number">18.5</span> 5. Types of joins</h2>
<div id="left_join" class="section level3">
<h3><span class="header-section-number">18.5.1</span> 5.1 Left_join</h3>
<p><img src="resources/group38/left_join.png" style="width:25.0%" /></p>
<p>Select all records from Table A, along with records from Table B for which the join condition is met (if at all).</p>
<p>In our case Table A corresponds to Debt_service_filter and Table B to Property_prices. Notice that in our example the resulting table after the left join will keep all the records of Debt_service_filter. Additionally, we can observe that the columns where the name is the same in the tables Debt_service_filter and Property_prices appears with the suffix ‘.x’ and ‘.y’. to clarify the origin of the column. In the case of SQL, we need to highlight that the join function results in 14 columns, two more than in merge and left_join. This is explained because SQL leaves the totality of the columns while in the other two procedures the keys are not repeated.</p>
<ul>
<li>Left join functionality with dplyr.</li>
</ul>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb477-1" data-line-number="1">leftjoin_dplyr=<span class="kw">left_join</span>(Debt_service_filter, Property_prices, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&#39;borrowers_cty&#39;</span>=<span class="st">&#39;ref_area&#39;</span>,<span class="st">&#39;date&#39;</span>=<span class="st">&#39;date&#39;</span>))</a>
<a class="sourceLine" id="cb477-2" data-line-number="2"><span class="kw">glimpse</span>(leftjoin_dplyr)</a></code></pre></div>
<pre><code>## Observations: 2,580
## Variables: 12
## $ freq.x            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.x       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;BE&quot;, &quot;BR&quot;, &quot;CA&quot;, &quot;CH&quot;, &quot;CN&quot;, &quot;CZ&quot;, &quot;DE&quot;…
## $ borrowers_country &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, &quot;Brazil&quot;, &quot;Canada&quot;, &quot;S…
## $ dsr_borrowers     &lt;chr&gt; &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;…
## $ borrowers         &lt;chr&gt; &quot;Private non-financial sector&quot;, &quot;Private non-f…
## $ date              &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1…
## $ obs_value.x       &lt;dbl&gt; 16.3, 13.8, 40.0, 21.4, 16.8, 10.9, 13.8, 13.0…
## $ freq.y            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, NA, &quot;Q&quot;, &quot;Q&quot;, NA, NA, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;,…
## $ frequency.y       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, NA, &quot;Quarterly&quot;, &quot;Qu…
## $ reference_area    &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, NA, &quot;Canada&quot;, &quot;Switzer…
## $ obs_value.y       &lt;dbl&gt; 116.5571, 115.9600, NA, 101.6600, 90.9073, NA,…</code></pre>
<ul>
<li>Left join functionality with base.</li>
</ul>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb479-1" data-line-number="1">leftjoin_base=<span class="kw">merge</span>(Debt_service_filter, Property_prices, <span class="dt">all.x =</span> <span class="ot">TRUE</span>, <span class="dt">by.x=</span><span class="kw">c</span>(<span class="st">&quot;borrowers_cty&quot;</span>, <span class="st">&quot;date&quot;</span>), <span class="dt">by.y=</span><span class="kw">c</span>(<span class="st">&quot;ref_area&quot;</span>, <span class="st">&quot;date&quot;</span>))</a>
<a class="sourceLine" id="cb479-2" data-line-number="2"><span class="kw">glimpse</span>(leftjoin_base)</a></code></pre></div>
<pre><code>## Observations: 2,580
## Variables: 12
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;…
## $ date              &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q2&quot;, &quot;1999-q3&quot;, &quot;1999-q4&quot;, &quot;2…
## $ freq.x            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.x       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ borrowers_country &lt;chr&gt; &quot;Australia&quot;, &quot;Australia&quot;, &quot;Australia&quot;, &quot;Austra…
## $ dsr_borrowers     &lt;chr&gt; &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;…
## $ borrowers         &lt;chr&gt; &quot;Private non-financial sector&quot;, &quot;Private non-f…
## $ obs_value.x       &lt;dbl&gt; 16.3, 16.2, 16.4, 16.8, 17.3, 17.9, 17.9, 18.1…
## $ freq.y            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.y       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ reference_area    &lt;chr&gt; &quot;Australia&quot;, &quot;Australia&quot;, &quot;Australia&quot;, &quot;Austra…
## $ obs_value.y       &lt;dbl&gt; 116.5571, 119.2170, 121.4370, 125.4269, 127.73…</code></pre>
<ul>
<li>Left join functionality with sqldf.</li>
</ul>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb481-1" data-line-number="1">leftjoin_sqldf=<span class="kw">sqldf</span>(<span class="st">&quot;select * from Debt_service_filter </span></a>
<a class="sourceLine" id="cb481-2" data-line-number="2"><span class="st">                      LEFT JOIN Property_prices </span></a>
<a class="sourceLine" id="cb481-3" data-line-number="3"><span class="st">                      on Debt_service_filter.borrowers_cty = Property_prices.ref_area</span></a>
<a class="sourceLine" id="cb481-4" data-line-number="4"><span class="st">                      and Debt_service_filter.date = Property_prices.date&quot;</span>)</a>
<a class="sourceLine" id="cb481-5" data-line-number="5"><span class="kw">glimpse</span>(leftjoin_sqldf)</a></code></pre></div>
<pre><code>## Observations: 2,580
## Variables: 14
## $ freq              &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency         &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;BE&quot;, &quot;BR&quot;, &quot;CA&quot;, &quot;CH&quot;, &quot;CN&quot;, &quot;CZ&quot;, &quot;DE&quot;…
## $ borrowers_country &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, &quot;Brazil&quot;, &quot;Canada&quot;, &quot;S…
## $ dsr_borrowers     &lt;chr&gt; &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;…
## $ borrowers         &lt;chr&gt; &quot;Private non-financial sector&quot;, &quot;Private non-f…
## $ date              &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1…
## $ obs_value         &lt;dbl&gt; 16.3, 13.8, 40.0, 21.4, 16.8, 10.9, 13.8, 13.0…
## $ freq..9           &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, NA, &quot;Q&quot;, &quot;Q&quot;, NA, NA, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;,…
## $ frequency..10     &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, NA, &quot;Quarterly&quot;, &quot;Qu…
## $ ref_area          &lt;chr&gt; &quot;AU&quot;, &quot;BE&quot;, NA, &quot;CA&quot;, &quot;CH&quot;, NA, NA, &quot;DE&quot;, &quot;DK&quot;…
## $ reference_area    &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, NA, &quot;Canada&quot;, &quot;Switzer…
## $ date..13          &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q1&quot;, NA, &quot;1999-q1&quot;, &quot;1999-q1&quot;…
## $ obs_value..14     &lt;dbl&gt; 116.5571, 115.9600, NA, 101.6600, 90.9073, NA,…</code></pre>
</div>
<div id="right_join" class="section level3">
<h3><span class="header-section-number">18.5.2</span> 5.2. Right_join</h3>
<p><img src="resources/group38/right_join.png" style="width:25.0%" /></p>
<p>Select all records from Table B, along with records from Table A for which the join condition is met (if at all).
In our case Table, A corresponds to Debt_service_filter and Table B to Property_prices. Notice that in our example the resulting table after the right join will keep all the records of Property_prices.</p>
<ul>
<li>Right join functionality with dplyr.</li>
</ul>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb483-1" data-line-number="1">rightjoin_dplyr=<span class="kw">right_join</span>(Debt_service_filter, Property_prices, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&#39;borrowers_cty&#39;</span>=<span class="st">&#39;ref_area&#39;</span>,<span class="st">&#39;date&#39;</span>=<span class="st">&#39;date&#39;</span>))</a>
<a class="sourceLine" id="cb483-2" data-line-number="2"><span class="kw">glimpse</span>(rightjoin_dplyr)</a></code></pre></div>
<pre><code>## Observations: 4,526
## Variables: 12
## $ freq.x            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ frequency.x       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ borrowers_cty     &lt;chr&gt; &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;, &quot;IT&quot;…
## $ borrowers_country &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ dsr_borrowers     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ borrowers         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ date              &lt;chr&gt; &quot;1927-q1&quot;, &quot;1927-q2&quot;, &quot;1927-q3&quot;, &quot;1927-q4&quot;, &quot;1…
## $ obs_value.x       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ freq.y            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.y       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ reference_area    &lt;chr&gt; &quot;Italy&quot;, &quot;Italy&quot;, &quot;Italy&quot;, &quot;Italy&quot;, &quot;Italy&quot;, &quot;…
## $ obs_value.y       &lt;dbl&gt; 0.0343, 0.0342, 0.0340, 0.0339, 0.0338, 0.0336…</code></pre>
<ul>
<li>Right join functionality with base</li>
</ul>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb485-1" data-line-number="1">rightjoin_base=<span class="kw">merge</span>(Debt_service_filter, Property_prices, <span class="dt">all.y =</span> <span class="ot">TRUE</span>, <span class="dt">by.x=</span><span class="kw">c</span>(<span class="st">&quot;borrowers_cty&quot;</span>, <span class="st">&quot;date&quot;</span>), <span class="dt">by.y=</span><span class="kw">c</span>(<span class="st">&quot;ref_area&quot;</span>, <span class="st">&quot;date&quot;</span>))</a>
<a class="sourceLine" id="cb485-2" data-line-number="2"><span class="kw">glimpse</span>(rightjoin_base)</a></code></pre></div>
<pre><code>## Observations: 4,526
## Variables: 12
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;…
## $ date              &lt;chr&gt; &quot;1970-q1&quot;, &quot;1970-q2&quot;, &quot;1970-q3&quot;, &quot;1970-q4&quot;, &quot;1…
## $ freq.x            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ frequency.x       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ borrowers_country &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ dsr_borrowers     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ borrowers         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ obs_value.x       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ freq.y            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.y       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ reference_area    &lt;chr&gt; &quot;Australia&quot;, &quot;Australia&quot;, &quot;Australia&quot;, &quot;Austra…
## $ obs_value.y       &lt;dbl&gt; 9.8398, 10.0197, 10.2997, 10.6197, 10.9197, 11…</code></pre>
<ul>
<li>Right join functionality with sqldf is not supported.</li>
</ul>
</div>
<div id="inner_join" class="section level3">
<h3><span class="header-section-number">18.5.3</span> 5.3. Inner_join</h3>
<p><img src="resources/group38/inner_join.png" style="width:25.0%" /></p>
<p>Select all records from Table A and Table B, where the join condition is met. In our case Table, A corresponds to Debt_service_filter and Table B to Property_prices. Notice that in our example the resulting table will keep only the rows in the intersection.</p>
<ul>
<li>Inner join functionality with dplyr.</li>
</ul>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb487-1" data-line-number="1">innerjoin_dplyr=<span class="kw">inner_join</span>(Debt_service_filter, Property_prices, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&#39;borrowers_cty&#39;</span>=<span class="st">&#39;ref_area&#39;</span>,<span class="st">&#39;date&#39;</span>=<span class="st">&#39;date&#39;</span>))</a>
<a class="sourceLine" id="cb487-2" data-line-number="2"><span class="kw">glimpse</span>(innerjoin_dplyr)</a></code></pre></div>
<pre><code>## Observations: 1,664
## Variables: 12
## $ freq.x            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.x       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;BE&quot;, &quot;CA&quot;, &quot;CH&quot;, &quot;DE&quot;, &quot;DK&quot;, &quot;ES&quot;, &quot;FI&quot;…
## $ borrowers_country &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, &quot;Canada&quot;, &quot;Switzerland…
## $ dsr_borrowers     &lt;chr&gt; &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;…
## $ borrowers         &lt;chr&gt; &quot;Private non-financial sector&quot;, &quot;Private non-f…
## $ date              &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1…
## $ obs_value.x       &lt;dbl&gt; 16.3, 13.8, 21.4, 16.8, 13.0, 21.1, 11.6, 13.3…
## $ freq.y            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.y       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ reference_area    &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, &quot;Canada&quot;, &quot;Switzerland…
## $ obs_value.y       &lt;dbl&gt; 116.5571, 115.9600, 101.6600, 90.9073, 95.9194…</code></pre>
<ul>
<li>Inner join functionality with base.</li>
</ul>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb489-1" data-line-number="1">innerjoin_base=<span class="kw">merge</span>(Debt_service_filter, Property_prices, <span class="dt">by.x=</span><span class="kw">c</span>(<span class="st">&quot;borrowers_cty&quot;</span>, <span class="st">&quot;date&quot;</span>), <span class="dt">by.y=</span><span class="kw">c</span>(<span class="st">&quot;ref_area&quot;</span>, <span class="st">&quot;date&quot;</span>))</a>
<a class="sourceLine" id="cb489-2" data-line-number="2"></a>
<a class="sourceLine" id="cb489-3" data-line-number="3"><span class="kw">glimpse</span>(innerjoin_base)</a></code></pre></div>
<pre><code>## Observations: 1,664
## Variables: 12
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;…
## $ date              &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q2&quot;, &quot;1999-q3&quot;, &quot;1999-q4&quot;, &quot;2…
## $ freq.x            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.x       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ borrowers_country &lt;chr&gt; &quot;Australia&quot;, &quot;Australia&quot;, &quot;Australia&quot;, &quot;Austra…
## $ dsr_borrowers     &lt;chr&gt; &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;…
## $ borrowers         &lt;chr&gt; &quot;Private non-financial sector&quot;, &quot;Private non-f…
## $ obs_value.x       &lt;dbl&gt; 16.3, 16.2, 16.4, 16.8, 17.3, 17.9, 17.9, 18.1…
## $ freq.y            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.y       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ reference_area    &lt;chr&gt; &quot;Australia&quot;, &quot;Australia&quot;, &quot;Australia&quot;, &quot;Austra…
## $ obs_value.y       &lt;dbl&gt; 116.5571, 119.2170, 121.4370, 125.4269, 127.73…</code></pre>
<ul>
<li>Inner join functionality with sqldf.</li>
</ul>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb491-1" data-line-number="1">innerjoin_sqldf=<span class="kw">sqldf</span>(<span class="st">&quot;select * from Debt_service_filter</span></a>
<a class="sourceLine" id="cb491-2" data-line-number="2"><span class="st">                      INNER JOIN Property_prices </span></a>
<a class="sourceLine" id="cb491-3" data-line-number="3"><span class="st">                      on Debt_service_filter.borrowers_cty = Property_prices.ref_area</span></a>
<a class="sourceLine" id="cb491-4" data-line-number="4"><span class="st">                      and Debt_service_filter.date = Property_prices.date</span></a>
<a class="sourceLine" id="cb491-5" data-line-number="5"><span class="st">                      &quot;</span>)</a>
<a class="sourceLine" id="cb491-6" data-line-number="6"><span class="kw">glimpse</span>(innerjoin_sqldf)</a></code></pre></div>
<pre><code>## Observations: 1,664
## Variables: 14
## $ freq              &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency         &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;BE&quot;, &quot;CA&quot;, &quot;CH&quot;, &quot;DE&quot;, &quot;DK&quot;, &quot;ES&quot;, &quot;FI&quot;…
## $ borrowers_country &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, &quot;Canada&quot;, &quot;Switzerland…
## $ dsr_borrowers     &lt;chr&gt; &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;…
## $ borrowers         &lt;chr&gt; &quot;Private non-financial sector&quot;, &quot;Private non-f…
## $ date              &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1…
## $ obs_value         &lt;dbl&gt; 16.3, 13.8, 21.4, 16.8, 13.0, 21.1, 11.6, 13.3…
## $ freq..9           &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency..10     &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ ref_area          &lt;chr&gt; &quot;AU&quot;, &quot;BE&quot;, &quot;CA&quot;, &quot;CH&quot;, &quot;DE&quot;, &quot;DK&quot;, &quot;ES&quot;, &quot;FI&quot;…
## $ reference_area    &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, &quot;Canada&quot;, &quot;Switzerland…
## $ date..13          &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1…
## $ obs_value..14     &lt;dbl&gt; 116.5571, 115.9600, 101.6600, 90.9073, 95.9194…</code></pre>
</div>
<div id="full_join" class="section level3">
<h3><span class="header-section-number">18.5.4</span> 5.4. Full_join</h3>
<p><img src="resources/group38/full_join.png" style="width:25.0%" /></p>
<p>Select all records from Table A and Table B, where the join condition is met. In our case Table, A corresponds to Debt_service_filter and Table B to Property_prices. Notice that in our example the resulting table will keep all the rows in both tables.</p>
<ul>
<li>Full join functionality with dplyr.</li>
</ul>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb493-1" data-line-number="1">outerjoin_dplyr=<span class="kw">full_join</span>(Debt_service_filter, Property_prices, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&#39;borrowers_cty&#39;</span>=<span class="st">&#39;ref_area&#39;</span>,<span class="st">&#39;date&#39;</span>=<span class="st">&#39;date&#39;</span>))</a>
<a class="sourceLine" id="cb493-2" data-line-number="2"><span class="kw">glimpse</span>(outerjoin_dplyr)</a></code></pre></div>
<pre><code>## Observations: 5,442
## Variables: 12
## $ freq.x            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.x       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;BE&quot;, &quot;BR&quot;, &quot;CA&quot;, &quot;CH&quot;, &quot;CN&quot;, &quot;CZ&quot;, &quot;DE&quot;…
## $ borrowers_country &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, &quot;Brazil&quot;, &quot;Canada&quot;, &quot;S…
## $ dsr_borrowers     &lt;chr&gt; &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;P&quot;, &quot;…
## $ borrowers         &lt;chr&gt; &quot;Private non-financial sector&quot;, &quot;Private non-f…
## $ date              &lt;chr&gt; &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1999-q1&quot;, &quot;1…
## $ obs_value.x       &lt;dbl&gt; 16.3, 13.8, 40.0, 21.4, 16.8, 10.9, 13.8, 13.0…
## $ freq.y            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, NA, &quot;Q&quot;, &quot;Q&quot;, NA, NA, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;,…
## $ frequency.y       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, NA, &quot;Quarterly&quot;, &quot;Qu…
## $ reference_area    &lt;chr&gt; &quot;Australia&quot;, &quot;Belgium&quot;, NA, &quot;Canada&quot;, &quot;Switzer…
## $ obs_value.y       &lt;dbl&gt; 116.5571, 115.9600, NA, 101.6600, 90.9073, NA,…</code></pre>
<ul>
<li>Full join functionality with base.</li>
</ul>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb495-1" data-line-number="1">outerjoin_base=<span class="kw">merge</span>(Debt_service_filter, Property_prices, <span class="dt">all.y =</span> <span class="ot">TRUE</span>, <span class="dt">all.x =</span> <span class="ot">TRUE</span>, <span class="dt">by.x=</span><span class="kw">c</span>(<span class="st">&quot;borrowers_cty&quot;</span>, <span class="st">&quot;date&quot;</span>), <span class="dt">by.y=</span><span class="kw">c</span>(<span class="st">&quot;ref_area&quot;</span>, <span class="st">&quot;date&quot;</span>))</a>
<a class="sourceLine" id="cb495-2" data-line-number="2"></a>
<a class="sourceLine" id="cb495-3" data-line-number="3"><span class="kw">glimpse</span>(outerjoin_base)</a></code></pre></div>
<pre><code>## Observations: 5,442
## Variables: 12
## $ borrowers_cty     &lt;chr&gt; &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;, &quot;AU&quot;…
## $ date              &lt;chr&gt; &quot;1970-q1&quot;, &quot;1970-q2&quot;, &quot;1970-q3&quot;, &quot;1970-q4&quot;, &quot;1…
## $ freq.x            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ frequency.x       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ borrowers_country &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ dsr_borrowers     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ borrowers         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ obs_value.x       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ freq.y            &lt;chr&gt; &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;…
## $ frequency.y       &lt;chr&gt; &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarterly&quot;, &quot;Quarte…
## $ reference_area    &lt;chr&gt; &quot;Australia&quot;, &quot;Australia&quot;, &quot;Australia&quot;, &quot;Austra…
## $ obs_value.y       &lt;dbl&gt; 9.8398, 10.0197, 10.2997, 10.6197, 10.9197, 11…</code></pre>
<ul>
<li>Full join functionality with sqldf is not supported.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rstudio-vs-jupyterlab-for-data-science.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="the-first-step-to-analyse-a-dataset.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jtr13/cc19/edit/master/Dplyr_Relational_Databases.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
